{"ast":null,"code":"import _slicedToArray from \"/home/buzina/\\xC1rea de Trabalho/reactproject/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/buzina/\\xC1rea de Trabalho/reactproject/src/places/pages/UserPlaces.js\";\nimport React, { useEffect, useState } from 'react';\nimport PlaceList from '../components/PlaceList';\nimport { useParams } from 'react-router-dom';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport ErrorModal from '../../shared/components/UIEelements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIEelements/LoadingSpinner';\n\nconst UserPlaces = () => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        loadedPlaces = _useState2[0],\n        setLoadedPlaces = _useState2[1];\n\n  const _useHttpClient = useHttpClient(),\n        isLoading = _useHttpClient.isLoading,\n        error = _useHttpClient.error,\n        sendRequest = _useHttpClient.sendRequest,\n        clearError = _useHttpClient.clearError;\n\n  const userId = useParams().userId;\n  useEffect(() => {\n    const fetchPlaces = async () => {\n      try {\n        const responseData = await sendRequest(`http://localhost:5000/api/places/user/${userId}`);\n        setLoadedPlaces(responseData.places);\n      } catch (err) {}\n    };\n\n    fetchPlaces();\n  }, [sendRequest, userId]);\n\n  const placeDeleteHandler = deletedPlace => {\n    setLoadedPlaces(prevPlaces => prevPlaces.filter(place => place.id != deletedPlace));\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(ErrorModal, {\n    error: error,\n    onClear: clearError,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), isLoading && React.createElement(\"div\", {\n    className: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(LoadingSpinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  })), !isLoading && loadedPlaces && React.createElement(PlaceList, {\n    items: loadedPlaces,\n    onDeletePlace: placeDeleteHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }));\n};\n\nexport default UserPlaces;","map":{"version":3,"sources":["/home/buzina/Ãrea de Trabalho/reactproject/src/places/pages/UserPlaces.js"],"names":["React","useEffect","useState","PlaceList","useParams","useHttpClient","ErrorModal","LoadingSpinner","UserPlaces","loadedPlaces","setLoadedPlaces","isLoading","error","sendRequest","clearError","userId","fetchPlaces","responseData","places","err","placeDeleteHandler","deletedPlace","prevPlaces","filter","place","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,aAAR,QAA4B,8BAA5B;AACA,OAAOC,UAAP,MAAuB,gDAAvB;AACA,OAAOC,cAAP,MAA2B,oDAA3B;;AAEA,MAAMC,UAAU,GAAG,MAAI;AAAA,oBACmBN,QAAQ,EAD3B;AAAA;AAAA,QACZO,YADY;AAAA,QACCC,eADD;;AAAA,yBAEiCL,aAAa,EAF9C;AAAA,QAEZM,SAFY,kBAEZA,SAFY;AAAA,QAEDC,KAFC,kBAEDA,KAFC;AAAA,QAEMC,WAFN,kBAEMA,WAFN;AAAA,QAEmBC,UAFnB,kBAEmBA,UAFnB;;AAGnB,QAAMC,MAAM,GAACX,SAAS,GAAGW,MAAzB;AAEAd,EAAAA,SAAS,CACL,MAAI;AACA,UAAMe,WAAW,GAAG,YAAU;AAC1B,UAAG;AACC,cAAMC,YAAY,GAAE,MAAMJ,WAAW,CAChC,yCAAwCE,MAAO,EADf,CAArC;AAIAL,QAAAA,eAAe,CAACO,YAAY,CAACC,MAAd,CAAf;AACH,OAND,CAMC,OAAMC,GAAN,EAAU,CAEV;AACJ,KAVD;;AAWAH,IAAAA,WAAW;AACd,GAdI,EAeR,CAACH,WAAD,EAAaE,MAAb,CAfQ,CAAT;;AAiBA,QAAMK,kBAAkB,GAACC,YAAY,IAAE;AACnCX,IAAAA,eAAe,CAACY,UAAU,IAAEA,UAAU,CAACC,MAAX,CAAkBC,KAAK,IAAEA,KAAK,CAACC,EAAN,IAAUJ,YAAnC,CAAb,CAAf;AACH,GAFD;;AAIA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAET,KAAnB;AAA0B,IAAA,OAAO,EAAEE,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGQH,SAAS,IACL;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJZ,EASK,CAACA,SAAD,IAAcF,YAAd,IAA8B,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEA,YAAlB;AAAgC,IAAA,aAAa,EAAEW,kBAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATnC,CADJ;AAYH,CAtCD;;AAwCA,eAAeZ,UAAf","sourcesContent":["import React, { useEffect ,useState} from 'react';\nimport PlaceList from '../components/PlaceList';\nimport {useParams} from 'react-router-dom';\nimport {useHttpClient} from '../../shared/hooks/http-hook';\nimport ErrorModal from '../../shared/components/UIEelements/ErrorModal'\nimport LoadingSpinner from '../../shared/components/UIEelements/LoadingSpinner'\n\nconst UserPlaces = ()=>{\n    const [loadedPlaces,setLoadedPlaces]= useState();\n    const {isLoading, error, sendRequest, clearError} = useHttpClient()\n    const userId=useParams().userId;\n\n    useEffect(\n        ()=>{\n            const fetchPlaces = async ()=>{\n                try{\n                    const responseData =await sendRequest(\n                        `http://localhost:5000/api/places/user/${userId}`,\n\n                    );\n                    setLoadedPlaces(responseData.places);\n                }catch(err){\n\n                }\n            }\n            fetchPlaces();\n        }\n    ,[sendRequest,userId]);\n\n    const placeDeleteHandler=deletedPlace=>{\n        setLoadedPlaces(prevPlaces=>prevPlaces.filter(place=>place.id!=deletedPlace));\n    }\n\n    return (\n        <React.Fragment>\n            <ErrorModal error={error} onClear={clearError} />  \n            {\n                isLoading && (\n                    <div className=\"center\">\n                        <LoadingSpinner/>\n                    </div>\n                ) \n            } \n            {!isLoading && loadedPlaces && <PlaceList items={loadedPlaces} onDeletePlace={placeDeleteHandler}/>}\n        </React.Fragment>)\n}\n\nexport default UserPlaces;"]},"metadata":{},"sourceType":"module"}